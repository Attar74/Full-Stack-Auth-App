{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useToken } from './useToken';\nexport const useUser = () => {\n  _s();\n  const [token] = useToken();\n  const [user, setUser] = useState(() => {\n    return token ? getPayloadFromToken(token) : null;\n  });\n  const getPayloadFromToken = token => {\n    const encodedPayload = token.split('.')[1];\n    return JSON.parse(atob(encodedPayload));\n  };\n  useEffect(() => {\n    if (!token) {\n      setUser(null);\n    }\n  }, [token]);\n  return [user, setUser];\n};\n_s(useUser, \"7CUvnEZ6nnq3oG/HuC1LB8kQQ9k=\", false, function () {\n  return [useToken];\n});","map":{"version":3,"names":["useEffect","useState","useToken","useUser","_s","token","user","setUser","getPayloadFromToken","encodedPayload","split","JSON","parse","atob"],"sources":["/media/nvme0n1p3/My Projects/Full_Stack/Auth/front-end/src/auth/useUser.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useToken } from './useToken';\n\nexport const useUser = () => {\n  const [token] = useToken();\n  const [user, setUser] = useState(() => {\n    return token ? getPayloadFromToken(token) : null;\n  });\n\n  const getPayloadFromToken = (token) => {\n    const encodedPayload = token.split('.')[1];\n    return JSON.parse(atob(encodedPayload));\n  };\n\n  useEffect(() => {\n    if (!token) {\n      setUser(null);\n    }\n  }, [token]);\n\n  return [user, setUser];\n};\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,YAAY;AAErC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,CAAC,GAAGH,QAAQ,CAAC,CAAC;EAC1B,MAAM,CAACI,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,MAAM;IACrC,OAAOI,KAAK,GAAGG,mBAAmB,CAACH,KAAK,CAAC,GAAG,IAAI;EAClD,CAAC,CAAC;EAEF,MAAMG,mBAAmB,GAAIH,KAAK,IAAK;IACrC,MAAMI,cAAc,GAAGJ,KAAK,CAACK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1C,OAAOC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACJ,cAAc,CAAC,CAAC;EACzC,CAAC;EAEDT,SAAS,CAAC,MAAM;IACd,IAAI,CAACK,KAAK,EAAE;MACVE,OAAO,CAAC,IAAI,CAAC;IACf;EACF,CAAC,EAAE,CAACF,KAAK,CAAC,CAAC;EAEX,OAAO,CAACC,IAAI,EAAEC,OAAO,CAAC;AACxB,CAAC;AAACH,EAAA,CAlBWD,OAAO;EAAA,QACFD,QAAQ;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}