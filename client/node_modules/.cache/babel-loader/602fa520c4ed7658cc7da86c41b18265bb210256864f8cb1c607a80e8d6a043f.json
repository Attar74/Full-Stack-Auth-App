{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useToken } from './useToken';\nexport const useUser = () => {\n  _s();\n  const [token] = useToken();\n  const getPayloadFromToken = token => {\n    const encodedPayload = token.split('.')[1];\n    return JSON.parse(atob(encodedPayload));\n  };\n  const [user, setUser] = useState(() => {\n    return token ? getPayloadFromToken(token) : null;\n  });\n  useEffect(() => {\n    if (!token) {\n      setUser(null);\n    } else {\n      setUser(getPayloadFromToken(token));\n    }\n  }, [token]);\n  return [user, setUser];\n};\n_s(useUser, \"7CUvnEZ6nnq3oG/HuC1LB8kQQ9k=\", false, function () {\n  return [useToken];\n});","map":{"version":3,"names":["useEffect","useState","useToken","useUser","_s","token","getPayloadFromToken","encodedPayload","split","JSON","parse","atob","user","setUser"],"sources":["/media/nvme0n1p3/My Projects/Full_Stack/Auth/front-end/src/auth/useUser.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useToken } from './useToken';\n\nexport const useUser = () => {\n  const [token] = useToken();\n\n  const getPayloadFromToken = (token) => {\n    const encodedPayload = token.split('.')[1];\n    return JSON.parse(atob(encodedPayload));\n  };\n\n  const [user, setUser] = useState(() => {\n    return token ? getPayloadFromToken(token) : null;\n  });\n\n  useEffect(() => {\n    if (!token) {\n      setUser(null);\n    } else {\n      setUser(getPayloadFromToken(token));\n    }\n  }, [token]);\n\n  return [user, setUser];\n};\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,YAAY;AAErC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,CAAC,GAAGH,QAAQ,CAAC,CAAC;EAE1B,MAAMI,mBAAmB,GAAID,KAAK,IAAK;IACrC,MAAME,cAAc,GAAGF,KAAK,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1C,OAAOC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACJ,cAAc,CAAC,CAAC;EACzC,CAAC;EAED,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,MAAM;IACrC,OAAOI,KAAK,GAAGC,mBAAmB,CAACD,KAAK,CAAC,GAAG,IAAI;EAClD,CAAC,CAAC;EAEFL,SAAS,CAAC,MAAM;IACd,IAAI,CAACK,KAAK,EAAE;MACVQ,OAAO,CAAC,IAAI,CAAC;IACf,CAAC,MAAM;MACLA,OAAO,CAACP,mBAAmB,CAACD,KAAK,CAAC,CAAC;IACrC;EACF,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,OAAO,CAACO,IAAI,EAAEC,OAAO,CAAC;AACxB,CAAC;AAACT,EAAA,CArBWD,OAAO;EAAA,QACFD,QAAQ;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}